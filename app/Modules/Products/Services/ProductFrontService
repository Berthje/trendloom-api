<?php
namespace App\Modules\Products\Services;

use App\Models\Product;
use Illuminate\Support\Facades\App;
use App\Modules\Core\Services\FrontService;

class ProductFrontService extends FrontService {
        public function __construct(Product $model) {
            parent::__construct($model);
        }

        protected function getModel($languageName) {
            if($languageName) App::setLocale($languageName);

            return $this->model
                ->join('product_languages', 'product_languages.product_id', '=', 'products.id')
                ->where('product_languages.language', $languageName)
                ->select('products.*', 'product_languages.name', 'product_languages.description');
        }
}
